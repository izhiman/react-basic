<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>like组件</title>
    <script src="../jslib/react.development.js"></script>
    <script src="../jslib/react-dom.development.js"></script>
    <script src="../jslib/babel.min.js"></script>
</head>
<body>
<div id="lid"></div>
<script type="text/babel">
    // 定义组件
    class Like extends React.Component {
        constructor(props) {
            super(props);
            // 初始化状态
            this.state = {
                isLikeMe: false
            };
            // 绑定this到组件对象,这里的this指向组件对象
            this.handleClick = this.handleClick.bind(this)
        }
        // 新增方法， this默认是undefined，需要先绑定this到组件对象
        handleClick() {
            // 更新状态
            const isLikeMe = !this.state.isLikeMe;
            // ES6新语法，等价于this.setState({isLikeMe : isLikeMe});
            this.setState({isLikeMe});
        }

        // 继承父组件的方法，this指向组件对象
        render() {
            // 解构赋值，等价于 ： const isLikeMe = this.state.isLikeMe;
            const {isLikeMe} = this.state;
            // 读状态
            return <h2 onClick={this.handleClick}>{isLikeMe ? '你喜欢我' : '我喜欢你'}</h2>
        }
    }

    // 渲染组件标签
    ReactDOM.render(<Like/>, document.getElementById('lid'));

</script>
</body>
</html>
